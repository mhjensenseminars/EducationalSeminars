<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="How to write good code  and why it matters">

<title>How to write good code  and why it matters</title>

<!-- Bootstrap style: bootstrap -->
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">

/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}

/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:50px;      /* fixed header height for style bootstrap */
  margin:-50px 0 0; /* negative fixed header height */
}
</style>


<script src="http://sagecell.sagemath.org/static/jquery.min.js"></script>
<script src="http://sagecell.sagemath.org/embedded_sagecell.js"></script>
<link rel="stylesheet" type="text/css" href="https://sagecell.sagemath.org/static/sagecell_embed.css">
<script>
$(function () {
    // Make the div with id 'mycell' a Sage cell
    sagecell.makeSagecell({inputLocation:  '#mycell',
                           template:       sagecell.templates.minimal,
                           evalButtonText: 'Activate'});
    // Make *any* div with class 'compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.compute',
                           evalButtonText: 'Evaluate'});
});
</script>

</head>

<!-- tocinfo
{'highest level': 2,
 'sections': [('What is the only test of  a properly written code?',
               2,
               None,
               '___sec0'),
              ('The number of WTFs/minute', 2, None, '___sec1'),
              ('How to write good code', 2, None, '___sec2'),
              ('Disasters attributable to bad numerical computing',
               2,
               None,
               '___sec3'),
              ('Why is computing competence important and clean code important?',
               2,
               None,
               '___sec4'),
              ('Computing competence, what is it?', 2, None, '___sec5'),
              ('Continuous versus discrete', 2, None, '___sec6'),
              ('Key principle in scientific modeling', 2, None, '___sec7'),
              ('Computing competence is central to solving scientific problems',
               2,
               None,
               '___sec8'),
              ('What is computing competence about?', 2, None, '___sec9'),
              ('Getting started: How to use Symbolic tools to verify your code',
               2,
               None,
               '___sec10'),
              ('Typical implementation', 2, None, '___sec11'),
              ('Symbolic calculations and numerical calculations in one code',
               2,
               None,
               '___sec12'),
              ('Error analysis', 2, None, '___sec13'),
              ('Integrating numerical mathematics with calculus',
               2,
               None,
               '___sec14'),
              ('How to automatize and autogenerate code with sympy',
               2,
               None,
               '___sec15'),
              ('We can improve our first attempt', 2, None, '___sec16'),
              ('And second derivatives', 2, None, '___sec17'),
              ('Old dusty Fortran deck, this function is 509 lines long',
               2,
               None,
               '___sec18'),
              ('Yet another Fortran babe', 2, None, '___sec19'),
              ('Would more comments help here?', 2, None, '___sec20'),
              ('Use proper names for variables, comments may not be needed',
               2,
               None,
               '___sec21'),
              ('Functions should be short and do as few operations as possible',
               2,
               None,
               '___sec22'),
              ('Comments, functions, classes, names and much more',
               2,
               None,
               '___sec23'),
              ('Important ingredients to have in codes', 2, None, '___sec24'),
              ('A structured approach to solving problems',
               2,
               None,
               '___sec25'),
              ('Additional benefits', 2, None, '___sec26'),
              ('Code quality', 2, None, '___sec27'),
              ('Unit Testing', 2, None, '___sec28'),
              ('Unit Testing, benefits', 2, None, '___sec29'),
              ('Simple example of unit test', 2, None, '___sec30'),
              ('Simple example of unit test', 2, None, '___sec31'),
              ('"Unit tests":"https://github.com/philsquared/Catch/blob/master/docs/tutorial.md"',
               2,
               None,
               '___sec32'),
              ('Examples', 2, None, '___sec33'),
              ('Factorial Example', 2, None, '___sec34'),
              ('What did we do (1)?', 2, None, '___sec35'),
              ('What did we do (2)?', 2, None, '___sec36'),
              ('Unit test summary and testing approach', 2, None, '___sec37'),
              ('How do we time our code?', 2, None, '___sec38'),
              ('Memory management', 2, None, '___sec39'),
              ('Memory and communication', 2, None, '___sec40'),
              ('Measuring performance', 2, None, '___sec41'),
              ('Problems with measuring time', 2, None, '___sec42'),
              ('Problems with cold start', 2, None, '___sec43'),
              ('Problems with smart compilers', 2, None, '___sec44'),
              ('Problems with interference', 2, None, '___sec45'),
              ('Problems with measuring performance', 2, None, '___sec46'),
              ('Summary and recommendations', 2, None, '___sec47'),
              ('Summary and recommendations', 2, None, '___sec48'),
              ('The final word?', 2, None, '___sec49')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="cleancode-bs.html">How to write good code  and why it matters</a>
  </div>

  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._cleancode-bs001.html#___sec0" style="font-size: 80%;">What is the only test of  a properly written code?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs002.html#___sec1" style="font-size: 80%;">The number of WTFs/minute</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs003.html#___sec2" style="font-size: 80%;">How to write good code</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs004.html#___sec3" style="font-size: 80%;">Disasters attributable to bad numerical computing</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs005.html#___sec4" style="font-size: 80%;">Why is computing competence important and clean code important?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs006.html#___sec5" style="font-size: 80%;">Computing competence, what is it?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs007.html#___sec6" style="font-size: 80%;">Continuous versus discrete</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs008.html#___sec7" style="font-size: 80%;">Key principle in scientific modeling</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs009.html#___sec8" style="font-size: 80%;">Computing competence is central to solving scientific problems</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs010.html#___sec9" style="font-size: 80%;">What is computing competence about?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs011.html#___sec10" style="font-size: 80%;">Getting started: How to use Symbolic tools to verify your code</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs012.html#___sec11" style="font-size: 80%;">Typical implementation</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs013.html#___sec12" style="font-size: 80%;">Symbolic calculations and numerical calculations in one code</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs014.html#___sec13" style="font-size: 80%;">Error analysis</a></li>
     <!-- navigation toc: --> <li><a href="#___sec14" style="font-size: 80%;">Integrating numerical mathematics with calculus</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs016.html#___sec15" style="font-size: 80%;">How to automatize and autogenerate code with sympy</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs017.html#___sec16" style="font-size: 80%;">We can improve our first attempt</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs018.html#___sec17" style="font-size: 80%;">And second derivatives</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs019.html#___sec18" style="font-size: 80%;">Old dusty Fortran deck, this function is 509 lines long</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs020.html#___sec19" style="font-size: 80%;">Yet another Fortran babe</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs021.html#___sec20" style="font-size: 80%;">Would more comments help here?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs022.html#___sec21" style="font-size: 80%;">Use proper names for variables, comments may not be needed</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs023.html#___sec22" style="font-size: 80%;">Functions should be short and do as few operations as possible</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs024.html#___sec23" style="font-size: 80%;">Comments, functions, classes, names and much more</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs025.html#___sec24" style="font-size: 80%;">Important ingredients to have in codes</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs026.html#___sec25" style="font-size: 80%;">A structured approach to solving problems</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs027.html#___sec26" style="font-size: 80%;">Additional benefits</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs028.html#___sec27" style="font-size: 80%;">Code quality</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs029.html#___sec28" style="font-size: 80%;">Unit Testing</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs030.html#___sec29" style="font-size: 80%;">Unit Testing, benefits</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs031.html#___sec30" style="font-size: 80%;">Simple example of unit test</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs032.html#___sec31" style="font-size: 80%;">Simple example of unit test</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs033.html#___sec32" style="font-size: 80%;">"Unit tests":"https://github.com/philsquared/Catch/blob/master/docs/tutorial.md"</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs034.html#___sec33" style="font-size: 80%;">Examples</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs035.html#___sec34" style="font-size: 80%;">Factorial Example</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs036.html#___sec35" style="font-size: 80%;">What did we do (1)?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs037.html#___sec36" style="font-size: 80%;">What did we do (2)?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs038.html#___sec37" style="font-size: 80%;">Unit test summary and testing approach</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs039.html#___sec38" style="font-size: 80%;">How do we time our code?</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs040.html#___sec39" style="font-size: 80%;">Memory management</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs041.html#___sec40" style="font-size: 80%;">Memory and communication</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs042.html#___sec41" style="font-size: 80%;">Measuring performance</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs043.html#___sec42" style="font-size: 80%;">Problems with measuring time</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs044.html#___sec43" style="font-size: 80%;">Problems with cold start</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs045.html#___sec44" style="font-size: 80%;">Problems with smart compilers</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs046.html#___sec45" style="font-size: 80%;">Problems with interference</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs047.html#___sec46" style="font-size: 80%;">Problems with measuring performance</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs048.html#___sec47" style="font-size: 80%;">Summary and recommendations</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs049.html#___sec48" style="font-size: 80%;">Summary and recommendations</a></li>
     <!-- navigation toc: --> <li><a href="._cleancode-bs050.html#___sec49" style="font-size: 80%;">The final word?</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0015"></a>
<!-- !split -->

<h2 id="___sec14" class="anchor">Integrating numerical mathematics with calculus </h2>
<div class="panel panel-default">
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
The last example shows the potential of combining numerical algorithms with symbolic calculations, allowing you to

<ul>
<li> Validate and verify  your  algorithms.</li> 
<li> Including concepts like unit testing, one has the possibility to test and validate several or all parts of the code.</li>
<li> Validation and verification are then included <em>naturally</em> and one can develop a better attitude to what is meant with an ethically sound scientific approach.</li>
<li> The above example allows you to also test the mathematical error of the algorithm for the trapezoidal rule by changing the number of integration points. From day one start to think error analysis.</li> 
</ul>
</div>
</div>


<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pagination">
<li><a href="._cleancode-bs014.html">&laquo;</a></li>
  <li><a href="._cleancode-bs000.html">1</a></li>
  <li><a href="">...</a></li>
  <li><a href="._cleancode-bs007.html">8</a></li>
  <li><a href="._cleancode-bs008.html">9</a></li>
  <li><a href="._cleancode-bs009.html">10</a></li>
  <li><a href="._cleancode-bs010.html">11</a></li>
  <li><a href="._cleancode-bs011.html">12</a></li>
  <li><a href="._cleancode-bs012.html">13</a></li>
  <li><a href="._cleancode-bs013.html">14</a></li>
  <li><a href="._cleancode-bs014.html">15</a></li>
  <li class="active"><a href="._cleancode-bs015.html">16</a></li>
  <li><a href="._cleancode-bs016.html">17</a></li>
  <li><a href="._cleancode-bs017.html">18</a></li>
  <li><a href="._cleancode-bs018.html">19</a></li>
  <li><a href="._cleancode-bs019.html">20</a></li>
  <li><a href="._cleancode-bs020.html">21</a></li>
  <li><a href="._cleancode-bs021.html">22</a></li>
  <li><a href="._cleancode-bs022.html">23</a></li>
  <li><a href="._cleancode-bs023.html">24</a></li>
  <li><a href="._cleancode-bs024.html">25</a></li>
  <li><a href="">...</a></li>
  <li><a href="._cleancode-bs050.html">51</a></li>
  <li><a href="._cleancode-bs016.html">&raquo;</a></li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


<center style="font-size:80%">
<!-- copyright only on the titlepage -->
</center>


</body>
</html>
    

